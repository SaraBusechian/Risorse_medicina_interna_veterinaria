<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profili d'Organo - Medicina Interna Veterinaria</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fffbeb; /* amber-50 */
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .tts-button { cursor: pointer; display: inline-flex; align-items: center; color: #f59e0b; transition: color 0.2s; } /* amber-500 */
        .tts-button:hover, .tts-button.playing { color: #b45309; } /* amber-700 */
        body.dsa-mode {
            font-family: Verdana, sans-serif;
            font-size: 1.1rem;
            letter-spacing: 0.05em;
            line-height: 1.8;
            background-color: #f8fafc;
            color: #1e293b;
        }
        body.dsa-mode h1, body.dsa-mode h2, body.dsa-mode h3 {
            letter-spacing: normal;
            color: #92400e; /* amber-800 */
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto px-4 py-8">

        <header class="text-center mb-12 relative">
             <div class="absolute top-0 right-0 -mt-4 flex items-center gap-2">
                <button id="lang-toggle" class="bg-white text-amber-800 font-semibold py-2 px-4 rounded-lg shadow-sm hover:bg-amber-100 transition duration-300 text-sm">EN</button>
                <button id="dsa-toggle" class="bg-amber-100 text-amber-800 font-semibold py-2 px-4 rounded-lg shadow-sm hover:bg-amber-200 transition duration-300 text-sm" data-lang-key="accessibility-btn-text">
                    Accessibilità
                </button>
            </div>
             <div class="text-left mb-8">
                <a href="glossario.html" class="inline-flex items-center bg-white text-amber-700 font-bold py-2 px-4 rounded-lg shadow hover:bg-amber-50 transition duration-300" data-lang-key="back-to-glossary">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8
 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z" clip-rule="evenodd"></path></svg>
                    <span data-lang-key="back-to-glossary-text">Torna al Glossario</span>
                </a>
            </div>
            <h1 class="text-4xl md:text-5xl font-bold text-amber-800 mb-4" data-lang-key="main-title">Profili d'Organo e Metabolismi</h1>
            <p class="text-lg text-slate-600 max-w-3xl mx-auto" data-lang-key="main-subtitle">Guida alla selezione dei parametri di laboratorio per la valutazione di specifici apparati.</p>
        </header>

        <main class="bg-white rounded-lg shadow-lg">
            <div id="profiles-container" class="space-y-0">
                <!-- Organ profile accordion items will be generated by JavaScript -->
            </div>
        </main>
        
        <footer class="text-center mt-16 pt-8 border-t border-slate-200">
             <p class="text-slate-500" data-lang-key="footer-credit">A cura della Prof.ssa Sara Busechian. Insegnamenti di clinica medica veterinaria</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const translations = {
                "main-title": { it: "Profili d'Organo e Metabolismi", en: "Organ and Metabolism Profiles" },
                "main-subtitle": { it: "Guida alla selezione dei parametri di laboratorio per la valutazione di specifici apparati.", en: "A guide to selecting laboratory parameters for the evaluation of specific systems." },
                "back-to-glossary-text": { it: "Torna al Glossario", en: "Back to Glossary" },
                "footer-credit": { it: "A cura della Prof.ssa Sara Busechian. Insegnamenti di clinica medica veterinaria", en: "Curated by Prof. Sara Busechian. Veterinary clinical medicine teachings" },
                "accessibility-btn-text": { it: "Accessibilità", en: "Accessibility" }
            };

            const organProfilesData = [
                {
                    title: { it: "Metabolismo Energetico / Profilo Diabetico", en: "Energy Metabolism / Diabetic Profile" },
                    description: { 
                        it: "Valuta la gestione del glucosio e dei lipidi, fondamentale per la diagnosi e il monitoraggio del diabete mellito e di altre endocrinopatie.", 
                        en: "Assesses glucose and lipid management, crucial for the diagnosis and monitoring of diabetes mellitus and other endocrinopathies." 
                    },
                    parameters_title: { it: "Parametri Chiave:", en: "Key Parameters:" },
                    parameters: [
                        { name: { it: "Glucosio", en: "Glucose" }, relevance: { it: "Misura diretta della glicemia. L'iperglicemia persistente a digiuno è un cardine del diabete.", en: "Direct measurement of blood sugar. Persistent fasting hyperglycemia is a hallmark of diabetes." } },
                        { name: { it: "Fruttosamine", en: "Fructosamine" }, relevance: { it: "Indica la glicemia media delle ultime 2-3 settimane, utile per monitorare il controllo glicemico e per distinguere il diabete dall'iperglicemia da stress.", en: "Indicates the average blood glucose over the last 2-3 weeks, useful for monitoring glycemic control and distinguishing diabetes from stress hyperglycemia." } },
                        { name: { it: "Colesterolo e Trigliceridi", en: "Cholesterol and Triglycerides" }, relevance: { it: "Spesso aumentati nel diabete mellito e in altre endocrinopatie (es. ipotiroidismo, Cushing).", en: "Often elevated in diabetes mellitus and other endocrinopathies (e.g., hypothyroidism, Cushing's)." } },
                        { name: { it: "Esame delle Urine", en: "Urinalysis" }, relevance: { it: "Ricerca di glicosuria (glucosio nelle urine) e chetonuria (corpi chetonici), fondamentali per la diagnosi di diabete e chetoacidosi diabetica.", en: "Search for glucosuria (glucose in urine) and ketonuria (ketone bodies), essential for diagnosing diabetes and diabetic ketoacidosis." } }
                    ]
                },
                {
                    title: { it: "Profilo Coagulativo", en: "Coagulation Profile" },
                    description: { 
                        it: "Valuta l'emostasi primaria (piastrine) e secondaria (cascata coagulativa) per identificare la causa di un sanguinamento.", 
                        en: "Assesses primary hemostasis (platelets) and secondary hemostasis (coagulation cascade) to identify the cause of bleeding." 
                    },
                    parameters_title: { it: "Parametri Chiave:", en: "Key Parameters:" },
                    parameters: [
                        { name: { it: "Conta Piastrinica (PLT)", en: "Platelet Count (PLT)" }, relevance: { it: "Valuta la componente cellulare dell'emostasi primaria. La trombocitopenia grave è una causa comune di sanguinamento.", en: "Assesses the cellular component of primary hemostasis. Severe thrombocytopenia is a common cause of bleeding." } },
                        { name: { it: "Tempo di Protrombina (PT)", en: "Prothrombin Time (PT)" }, relevance: { it: "Valuta la via estrinseca e comune. Si allunga tipicamente per avvelenamento da rodenticidi o insufficienza epatica.", en: "Assesses the extrinsic and common pathways. Typically prolonged in rodenticide poisoning or liver failure." } },
                        { name: { it: "Tempo di Tromboplastina Parziale Attivata (aPTT)", en: "Activated Partial Thromboplastin Time (aPTT)" }, relevance: { it: "Valuta la via intrinseca e comune. Si allunga nelle emofilie.", en: "Assesses the intrinsic and common pathways. Prolonged in hemophilias." } },
                        { name: { it: "D-Dimeri", en: "D-Dimers" }, relevance: { it: "Indicano fibrinolisi attiva, sono un marker importante per la CID e il tromboembolismo.", en: "Indicate active fibrinolysis, they are an important marker for DIC and thromboembolism." } }
                    ]
                },
                {
                    title: { it: "Profilo Epatico", en: "Liver Profile" },
                    description: { 
                        it: "Valuta l'integrità degli epatociti (danno), la pervietà delle vie biliari (colestasi) e la capacità di sintesi e depurazione del fegato (funzione).", 
                        en: "Assesses hepatocyte integrity (damage), biliary tract patency (cholestasis), and the liver's synthetic and detoxification capacity (function)." 
                    },
                    parameters_title: { it: "Parametri Chiave:", en: "Key Parameters:" },
                    parameters: [
                        { name: { it: "Enzimi da Danno (ALT, AST, SDH)", en: "Damage Enzymes (ALT, AST, SDH)" }, relevance: { it: "Rilasciati da epatociti danneggiati. ALT e SDH sono più specifici.", en: "Released from damaged hepatocytes. ALT and SDH are more specific." } },
                        { name: { it: "Enzimi da Colestasi (ALP, GGT)", en: "Cholestasis Enzymes (ALP, GGT)" }, relevance: { it: "La loro produzione aumenta in caso di ostruzione o rallentamento del flusso biliare.", en: "Their production increases in cases of obstruction or slowing of bile flow." } },
                        { name: { it: "Bilirubina", en: "Bilirubin" }, relevance: { it: "Aumenta in caso di emolisi (pre-epatico), danno epatico o colestasi (post-epatico).", en: "Increases in cases of hemolysis (pre-hepatic), liver damage, or cholestasis (post-hepatic)." } },
                        { name: { it: "Test di Funzionalità (Acidi Biliari, Ammoniaca)", en: "Function Tests (Bile Acids, Ammonia)" }, relevance: { it: "Valutano la capacità del fegato di depurare il sangue. Sono i test più sensibili per la funzione epatica.", en: "Assess the liver's ability to clear the blood. They are the most sensitive tests for liver function." } },
                        { name: { it: "Proteine (Albumina, Urea), Glucosio, Colesterolo", en: "Proteins (Albumin, Urea), Glucose, Cholesterol" }, relevance: { it: "La loro concentrazione può diminuire in caso di grave insufficienza epatica per ridotta sintesi.", en: "Their concentration can decrease in severe liver failure due to reduced synthesis." } }
                    ]
                },
                {
                    title: { it: "Profilo Muscolare", en: "Muscle Profile" },
                    description: { 
                        it: "Indaga la presenza e la gravità di un danno a carico del muscolo scheletrico o cardiaco.", 
                        en: "Investigates the presence and severity of damage to skeletal or cardiac muscle." 
                    },
                    parameters_title: { it: "Parametri Chiave:", en: "Key Parameters:" },
                    parameters: [
                        { name: { it: "Creatinchinasi (CK o CPK)", en: "Creatine Kinase (CK or CPK)" }, relevance: { it: "L'enzima più sensibile e specifico per il danno muscolare acuto. Ha un'emivita breve.", en: "The most sensitive and specific enzyme for acute muscle damage. It has a short half-life." } },
                        { name: { it: "Aspartato Aminotransferasi (AST)", en: "Aspartate Aminotransferase (AST)" }, relevance: { it: "Aumenta sia nel danno muscolare che epatico. Ha un'emivita più lunga della CK.", en: "Increases in both muscle and liver damage. It has a longer half-life than CK." } },
                        { name: { it: "Troponina Cardiaca I (cTnI)", en: "Cardiac Troponin I (cTnI)" }, relevance: { it: "Biomarcatore specifico per il danno del muscolo cardiaco.", en: "Specific biomarker for cardiac muscle damage." } },
                        { name: { it: "Potassio (K)", en: "Potassium (K)" }, relevance: { it: "Può aumentare drasticamente (iperkaliemia) in caso di danno muscolare massivo (rabdomiolisi).", en: "Can increase dramatically (hyperkalemia) in cases of massive muscle damage (rhabdomyolysis)." } }
                    ]
                },
                {
                    title: { it: "Profilo Pancreatico (Esocrino)", en: "Pancreatic Profile (Exocrine)" },
                    description: { 
                        it: "Valuta la presenza di infiammazione (pancreatite) o di insufficienza funzionale (insufficienza pancreatica esocrina, EPI).", 
                        en: "Assesses the presence of inflammation (pancreatitis) or functional failure (exocrine pancreatic insufficiency, EPI)." 
                    },
                    parameters_title: { it: "Parametri Chiave:", en: "Key Parameters:" },
                    parameters: [
                        { name: { it: "Lipasi Pancreatica Specifica (cPLI / fPLI)", en: "Specific Pancreatic Lipase (cPLI / fPLI)" }, relevance: { it: "Test immunologico, è il gold standard per la diagnosi di pancreatite nel cane e nel gatto.", en: "Immunologic test, it is the gold standard for diagnosing pancreatitis in dogs and cats." } },
                        { name: { it: "Amilasi e Lipasi (sieriche)", en: "Amylase and Lipase (serum)" }, relevance: { it: "Indicatori tradizionali, ma poco sensibili e specifici, soprattutto nel gatto.", en: "Traditional indicators, but with low sensitivity and specificity, especially in cats." } },
                        { name: { it: "Trypsin-Like Immunoreactivity (TLI)", en: "Trypsin-Like Immunoreactivity (TLI)" }, relevance: { it: "Test di scelta per la diagnosi di Insufficienza Pancreatica Esocrina (EPI). Un valore molto basso è diagnostico.", en: "Test of choice for diagnosing Exocrine Pancreatic Insufficiency (EPI). A very low value is diagnostic." } },
                        { name: { it: "Calcio (Ca)", en: "Calcium (Ca)" }, relevance: { it: "L'ipocalcemia è una possibile complicanza della pancreatite acuta grave.", en: "Hypocalcemia is a possible complication of severe acute pancreatitis." } }
                    ]
                },
                {
                    title: { it: "Profilo Renale", en: "Renal Profile" },
                    description: { 
                        it: "Valuta la capacità del rene di filtrare le scorie azotate, concentrare le urine e mantenere l'equilibrio idro-elettrolitico e acido-base.", 
                        en: "Assesses the kidney's ability to filter nitrogenous waste, concentrate urine, and maintain hydro-electrolytic and acid-base balance." 
                    },
                    parameters_title: { it: "Parametri Chiave:", en: "Key Parameters:" },
                    parameters: [
                        { name: { it: "Azotemia (Urea, BUN) e Creatinina", en: "Urea (BUN) and Creatinine" }, relevance: { it: "Indicatori di filtrazione glomerulare (GFR).", en: "Indicators of glomerular filtration rate (GFR)." } },
                        { name: { it: "SDMA", en: "SDMA" }, relevance: { it: "Marcatore precoce di ridotta GFR, meno influenzato dalla massa muscolare.", en: "Early marker of reduced GFR, less affected by muscle mass." } },
                        { name: { it: "Fosforo (P)", en: "Phosphorus (P)" }, relevance: { it: "Aumenta per ridotta escrezione renale.", en: "Increases due to reduced renal excretion." } },
                        { name: { it: "Potassio (K)", en: "Potassium (K)" }, relevance: { it: "Può aumentare (iperkaliemia) in insufficienza renale acuta o ostruzioni, o diminuire (ipokaliemia) in insufficienza renale cronica (soprattutto nel gatto).", en: "Can increase (hyperkalemia) in acute renal failure or obstructions, or decrease (hypokalemia) in chronic renal failure (especially in cats)." } },
                        { name: { it: "Calcio (Ca)", en: "Calcium (Ca)" }, relevance: { it: "Può aumentare (ipercalcemia) nell'insufficienza renale del cavallo.", en: "Can increase (hypercalcemia) in equine renal failure." } },
                        { name: { it: "Ematocrito (HCT)", en: "Hematocrit (HCT)" }, relevance: { it: "Può ridursi (anemia non rigenerativa) per mancata produzione di eritropoietina.", en: "May decrease (non-regenerative anemia) due to lack of erythropoietin production." } },
                        { name: { it: "Esame delle Urine Completo", en: "Complete Urinalysis" }, relevance: { it: "Fondamentale. Valutare peso specifico (capacità di concentrazione), proteinuria (danno glomerulare/tubulare), e sedimento.", en: "Fundamental. Assess specific gravity (concentrating ability), proteinuria (glomerular/tubular damage), and sediment." } }
                    ]
                }
            ];

            let currentLanguage = localStorage.getItem('language') || 'it';
            const synth = window.speechSynthesis;
            let currentUtterance = null;
            let activeTTSButton = null;

            function speak(text, button) {
                if (activeTTSButton === button && currentUtterance) {
                    if (synth.paused) { 
                        synth.resume(); 
                        button.classList.add('playing'); 
                    } else if (synth.speaking) { 
                        synth.pause(); 
                        button.classList.remove('playing'); 
                    }
                    return;
                }
                
                if (synth.speaking) { synth.cancel(); }
                if (activeTTSButton) { activeTTSButton.classList.remove('playing'); }

                currentUtterance = new SpeechSynthesisUtterance(text);
                currentUtterance.lang = currentLanguage === 'it' ? 'it-IT' : 'en-US';
                
                currentUtterance.onend = () => {
                    if (activeTTSButton) activeTTSButton.classList.remove('playing');
                    activeTTSButton = null;
                    currentUtterance = null;
                };
                currentUtterance.onerror = () => {
                     if (activeTTSButton) activeTTSButton.classList.remove('playing');
                    activeTTSButton = null;
                    currentUtterance = null;
                };

                synth.speak(currentUtterance);
                activeTTSButton = button;
                button.classList.add('playing');
            }

            function createProfileAccordionItem(itemData, lang) {
                const container = document.createElement('div');
                container.className = 'border-t border-amber-200';

                const button = document.createElement('button');
                button.className = 'w-full flex justify-between items-center p-4 bg-amber-50 hover:bg-amber-100 transition';
                button.innerHTML = `
                    <h3 class="text-xl font-bold text-amber-800 text-left flex items-center">${itemData.title[lang]} <span class="tts-button ml-2"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z"/></svg></span></h3>
                    <svg class="arrow-icon w-6 h-6 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                `;

                let parametersList = '';
                itemData.parameters.forEach(param => {
                    parametersList += `<li class="border-t border-amber-100 py-3"><strong class="text-amber-900">${param.name[lang]}:</strong> ${param.relevance[lang]}</li>`;
                });

                const content = document.createElement('div');
                content.className = 'accordion-content';
                content.innerHTML = `
                    <div class="p-4 space-y-4 text-slate-700 bg-white">
                        <p class="italic">${itemData.description[lang]}</p>
                        <p class="font-semibold text-amber-800">${itemData.parameters_title[lang]}</p>
                        <ul class="list-none space-y-0">
                            ${parametersList}
                        </ul>
                    </div>
                `;

                const ttsButton = button.querySelector('.tts-button');

                button.addEventListener('click', () => {
                    const icon = button.querySelector('.arrow-icon');
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                        icon.classList.remove('rotate-180');
                    } else {
                        document.querySelectorAll('.accordion-content').forEach((el) => {
                            el.style.maxHeight = null;
                            el.previousElementSibling.querySelector('.arrow-icon').classList.remove('rotate-180');
                        });
                        content.style.maxHeight = content.scrollHeight + "px";
                        icon.classList.add('rotate-180');
                    }
                });

                ttsButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const text = container.textContent.trim().replace(/\s\s+/g, ' ');
                    speak(text, ttsButton);
                });

                container.appendChild(button);
                container.appendChild(content);
                return container;
            }

            function populateProfiles(lang) {
                const container = document.getElementById('profiles-container');
                container.innerHTML = '';
                 const sortedData = [...organProfilesData].sort((a, b) => {
                    const titleA = lang === 'it' ? a.title.it : a.title.en;
                    const titleB = lang === 'it' ? b.title.it : b.title.en;
                    return titleA.localeCompare(titleB);
                });
                sortedData.forEach((item, index) => {
                    const accordionItem = createProfileAccordionItem(item, lang);
                    if (index === 0) {
                        accordionItem.classList.remove('border-t');
                    }
                    container.appendChild(accordionItem);
                });
            }

            function updateLanguage(lang) {
                document.documentElement.lang = lang;
                document.getElementById('lang-toggle').textContent = lang === 'it' ? 'EN' : 'IT';
                if (synth.speaking) { synth.cancel(); }

                document.querySelectorAll('[data-lang-key]').forEach(element => {
                    const key = element.dataset.langKey;
                    if (translations[key] && translations[key][lang]) {
                        element.textContent = translations[key][lang];
                    }
                });
                
                const dsaToggle = document.getElementById('dsa-toggle');
                 if (document.body.classList.contains('dsa-mode')) {
                    dsaToggle.textContent = lang === 'it' ? 'Vista Standard' : 'Standard View';
                } else {
                    dsaToggle.textContent = lang === 'it' ? 'Accessibilità' : 'Accessibility';
                }
                populateProfiles(lang);
            }
            
            document.getElementById('lang-toggle').addEventListener('click', () => {
                currentLanguage = currentLanguage === 'it' ? 'en' : 'it';
                localStorage.setItem('language', currentLanguage);
                updateLanguage(currentLanguage);
            });

            const dsaToggle = document.getElementById('dsa-toggle');
            const body = document.body;

            dsaToggle.addEventListener('click', () => {
                body.classList.toggle('dsa-mode');
                if (body.classList.contains('dsa-mode')) {
                    dsaToggle.textContent = currentLanguage === 'it' ? 'Vista Standard' : 'Standard View';
                } else {
                    dsaToggle.textContent = currentLanguage === 'it' ? 'Accessibilità' : 'Accessibility';
                }
            });

            updateLanguage(currentLanguage);
        });
    </script>
</body>
</html>
