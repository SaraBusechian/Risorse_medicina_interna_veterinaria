<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infografica - Gestione Esaurimento Equino</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lexend:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fff1f2; color: #881337; transition: all 0.3s ease; }
        
        .card { background: white; border-radius: 0.75rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); padding: 1.5rem; margin-bottom: 2rem; border-top: 5px solid #db2777; transition: all 0.3s ease; }
        .card h2 { color: #be185d; font-weight: bold; margin-bottom: 1rem; font-size: 1.25rem; }
        
        .list-check li { margin-bottom: 0.5rem; position: relative; padding-left: 1.5rem; }
        .list-check li::before { content: '✓'; color: #be185d; position: absolute; left: 0; font-weight: bold; }
        
        /* Modalità Accessibilità (DSA) */
        body.dsa-mode { font-family: 'Lexend', sans-serif !important; background: #fdf6f7 !important; color: #1e293b !important; line-height: 1.6; }
        .dsa-mode #main-header { background-color: #1e293b !important; color: #fff !important; }
        .dsa-mode .card { background: #ffffff; border: 2px solid #1e293b; border-top-width: 5px; border-top-color: #1e293b; box-shadow: none; }
        .dsa-mode h1, .dsa-mode h2, .dsa-mode p, .dsa-mode li, .dsa-mode span, .dsa-mode div:not(.bg-rose-800) { color: #1e293b !important; }
        .dsa-mode .arrow-down { color: #1e293b !important; font-weight: bold; }
        .dsa-mode .decision-box { border-color: #1e293b; background-color: #e2e8f0; color: #1e293b; }
        .dsa-mode .branch { border-color: #1e293b; background-color: #f1f5f9; }
        .dsa-mode .text-red-700, .dsa-mode .text-yellow-700 { color: #000 !important; font-weight: 900; }

        .arrow-down { text-align: center; font-size: 2rem; color: #f9a8d4; margin-bottom: 1rem; user-select: none; }
        .decision-box { border: 2px solid #be185d; background-color: #fce7f3; padding: 1rem; border-radius: 0.5rem; font-weight: bold; text-align: center; margin-top: 1rem; }
        
        .split-branch { display: flex; gap: 1rem; margin-top: 1rem; flex-wrap: wrap; }
        .branch { flex: 1; padding: 1rem; border: 1px solid #ddd; border-radius: 0.5rem; min-width: 250px; }
    </style>
</head>
<body class="p-4 md:p-8">

    <header id="main-header" class="bg-rose-800 text-white shadow-md p-4 rounded-lg mb-8 flex justify-between items-center flex-wrap sticky top-0 z-50">
        <a href="SindromeEsaurimento.html" class="inline-flex items-center font-bold hover:underline transition">
            <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z" clip-rule="evenodd"></path></svg>
            <span data-lang-key="backToSummaryText">Torna al Riassunto</span>
        </a>
        <div class="flex items-center space-x-4">
            <button id="accessibility-toggle" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 transition border border-transparent">
                <span id="access-text">Accessibilità</span>
            </button>
            <button id="lang-toggle" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 transition border border-transparent">EN</button>
        </div>
    </header>

    <div class="container mx-auto max-w-5xl">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-rose-800 mb-2" data-lang-key="pageTitle">Gestione Sindrome da Esaurimento Equino</h1>
            <p class="text-lg text-rose-600" data-lang-key="pageSubtitle">Algoritmo per la diagnosi rapida e la stabilizzazione idroelettrolitica (Emergenza Equina).</p>
        </header>

        <div class="max-w-4xl mx-auto">
            
            <!-- START: Emergenza e Valutazione Iniziale -->
            <div class="card border-t-rose-600 text-center">
                <h2 data-lang-key="startTitle">EMERGENZA: SOSPENSIONE E CONTROLLO</h2>
                <p data-lang-key="startDesc">Cavallo atleta con Tachicardia, Tempo di riempimento capillare rallentato, debolezza, e Azotemia pre-renale (Emoconcentrazione).</p>
            </div>

            <div class="arrow-down">↓</div>

            <!-- STEP 1: Correzione del Volume e della Disidratazione -->
            <div class="card border-t-blue-500">
                <h2 class="text-blue-700" data-lang-key="step1Title">1. Fluidoterapia IV Aggressiva (Contro lo Shock)</h2>
                <div class="decision-box bg-blue-50 border-blue-500 text-blue-900" data-lang-key="fluidTreatment">Soluzione Salina Isotonica (0.9% NaCl) o Ringer Lattato</div>
                <p class="text-sm text-center text-blue-700 mt-2 italic" data-lang-key="fluidGoal">Obiettivo: Correggere lo shock ipovolemico e l'azotemia. Monitora Emocromo/Ematocrito.</p>
                
                <div class="split-branch">
                    <div class="branch bg-red-50 border-red-300">
                        <strong class="text-red-700 block mb-2" data-lang-key="labResultsCrit">LAB RISULTATI CRITICI (Na/K/Ca)</strong>
                        <p class="text-sm text-red-800" data-lang-key="labResultsCritAction">Necessaria correzione IV mirata di K e Ca (KCl/Calcio Borogluconato) durante l'infusione fluidica.</p>
                    </div>
                    <div class="branch bg-yellow-50 border-yellow-300">
                        <strong class="text-yellow-700 block mb-2" data-lang-key="labResultsStable">LAB NON CRITICI</strong>
                        <p class="text-sm text-yellow-800" data-lang-key="labResultsStableAction">Fluidoterapia continua. Monitoraggio: Emocromo ogni ora e parametri vitali.</p>
                    </div>
                </div>
            </div>

            <div class="arrow-down">↓</div>

            <!-- STEP 2: Gestione Muscolare e Reidratazione Orale -->
            <div class="card border-t-purple-500">
                <h2 class="text-purple-700" data-lang-key="step2Title">2. Terapia di Supporto e Integrazione Orale</h2>
                <p class="mb-2 text-purple-900" data-lang-key="muscleManagement">Gestisci l'eventuale Rabdomiolisi (CK/AST elevati) e l'Acidosi Metabolica:</p>
                <div class="decision-box bg-purple-50 border-purple-500 text-purple-900" data-lang-key="oralTest">Elettroliti Orali Bilanciati + Acqua (Ad Libitum)</div>

                <ul class="list-check mt-4 text-purple-800 inline-block text-left w-full">
                    <li data-lang-key="supportItem1">Diuretici/FANS se necessario (controversi, dipende dalla funzionalità renale).</li>
                    <li data-lang-key="supportItem2">Massaggio e riposo per la muscolatura affetta.</li>
                    <li data-lang-key="supportItem3">Correzione Bicarbonato (se acidosi severa).</li>
                </ul>
            </div>

            <div class="arrow-down">↓</div>

            <!-- STEP 3: Prevenzione a Lungo Termine -->
            <div class="card border-t-green-500">
                <h2 class="text-green-700 text-center" data-lang-key="step3Title">3. Prevenzione e Ritorno all'Allenamento</h2>
                <p class="mt-2 text-center text-green-900" data-lang-key="preventionGoal">Focus: Nutrizione e condizionamento per massimizzare l'energia non glicogenica.</p>
                
                <ul class="list-check mt-4 text-green-800 inline-block text-left w-full bg-green-50 p-4 rounded-lg">
                    <li data-lang-key="preventionItem1">Dieta ricca di grassi e fibra (slow-release energy).</li>
                    <li data-lang-key="preventionItem2">Condizionamento termico per migliorare la tolleranza al calore.</li>
                    <li data-lang-key="preventionItem3">Solo ritorno all'allenamento graduale dopo la normalizzazione di Ematocrito e CK/AST.</li>
                </ul>
            </div>
            
        </div>

        <footer class="text-center mt-16 pt-8 border-t border-rose-200 text-slate-500 text-sm">
            <p data-lang-key="footer-credit">A cura della Prof.ssa Sara Busechian. Insegnamenti di clinica medica veterinaria</p>
        </footer>
    </div>

    <script>
        // Definiamo le traduzioni fuori dai listener per pulizia
        const translations = {
            backToSummaryText: { it: "Torna al Riassunto", en: "Back to Summary" },
            pageTitle: { it: "Gestione Sindrome da Esaurimento Equino", en: "Equine Exhaustion Syndrome Management" },
            pageSubtitle: { it: "Algoritmo per la diagnosi rapida e la stabilizzazione idroelettrolitica (Emergenza Equina).", en: "Algorithm for rapid diagnosis and hydroelectrolytic stabilization (Equine Emergency)." },
            startTitle: { it: "EMERGENZA: SOSPENSIONE E CONTROLLO", en: "EMERGENCY: HALT AND CONTROL" },
            startDesc: { it: "Cavallo atleta con Tachicardia, Tempo di riempimento capillare rallentato, debolezza, e Azotemia pre-renale (Emoconcentrazione).", en: "Athletic horse with Tachycardia, Delayed Capillary Refill Time, weakness, and Pre-renal Azotemia (Hemoconcentration)." },
            step1Title: { it: "1. Fluidoterapia IV Aggressiva (Contro lo Shock)", en: "1. Aggressive IV Fluid Therapy (Against Shock)" },
            fluidTreatment: { it: "Soluzione Salina Isotonica (0.9% NaCl) o Ringer Lattato", en: "Isotonic Saline Solution (0.9% NaCl) or Lactated Ringer's" },
            fluidGoal: { it: "Obiettivo: Correggere lo shock ipovolemico e l'azotemia. Monitora Emocromo/Ematocrito.", en: "Goal: Correct hypovolemic shock and azotemia. Monitor CBC/Hematocrit." },
            labResultsCrit: { it: "LAB RISULTATI CRITICI (Na/K/Ca)", en: "CRITICAL LAB RESULTS (Na/K/Ca)" },
            labResultsCritAction: { it: "Necessaria correzione IV mirata di K e Ca (KCl/Calcio Borogluconato) durante l'infusione fluidica.", en: "Requires targeted IV correction of K and Ca (KCl/Calcium Borogluconate) during fluid infusion." },
            labResultsStable: { it: "LAB NON CRITICI", en: "NON-CRITICAL LAB RESULTS" },
            labResultsStableAction: { it: "Fluidoterapia continua. Monitoraggio: Emocromo ogni ora e parametri vitali.", en: "Continuous fluid therapy. Monitor: CBC hourly and vital parameters." },
            step2Title: { it: "2. Terapia di Supporto e Integrazione Orale", en: "2. Support and Oral Supplementation Therapy" },
            muscleManagement: { it: "Gestisci l'eventuale Rabdomiolisi (CK/AST elevati) e l'Acidosi Metabolica:", en: "Manage potential Rhabdomyolysis (high CK/AST) and Metabolic Acidosis:" },
            oralTest: { it: "Elettroliti Orali Bilanciati + Acqua (Ad Libitum)", en: "Balanced Oral Electrolytes + Water (Ad Libitum)" },
            supportItem1: { it: "Diuretici/FANS se necessario (controversi, dipende dalla funzionalità renale).", en: "Diuretics/NSAIDs if necessary (controversial, depends on renal function)." },
            supportItem2: { it: "Massaggio e riposo per la muscolatura affetta.", en: "Massage and rest for affected musculature." },
            supportItem3: { it: "Correzione Bicarbonato (se acidosi severa).", en: "Bicarbonate correction (if severe acidosis)." },
            step3Title: { it: "3. Prevenzione e Ritorno all'Allenamento", en: "3. Prevention and Return to Training" },
            preventionGoal: { it: "Focus: Nutrizione e condizionamento per massimizzare l'energia non glicogenica.", en: "Focus: Nutrition and conditioning to maximize non-glycogenic energy." },
            preventionItem1: { it: "Dieta ricca di grassi e fibra (slow-release energy).", en: "Diet rich in fat and fiber (slow-release energy)." },
            preventionItem2: { it: "Condizionamento termico per migliorare la tolleranza al calore.", en: "Heat conditioning to improve heat tolerance." },
            preventionItem3: { it: "Solo ritorno all'allenamento graduale dopo la normalizzazione di Ematocrito e CK/AST.", en: "Only gradual return to training after normalization of Hematocrit and CK/AST." },
            "footer-credit": { it: "A cura della Prof.ssa Sara Busechian. Insegnamenti di clinica medica veterinaria", en: "Curated by Prof. Sara Busechian. Veterinary clinical medicine teachings" }
        };

        // Variabile di stato globale
        let currentLanguage = localStorage.getItem('language') || 'it';

        function updateAccessibilityText() {
            const btnSpan = document.getElementById('access-text');
            const isDsa = document.body.classList.contains('dsa-mode');
            
            if (currentLanguage === 'it') {
                btnSpan.textContent = isDsa ? 'Vista Standard' : 'Accessibilità';
            } else {
                btnSpan.textContent = isDsa ? 'Standard View' : 'Accessibility';
            }
        }

        function updateLanguage(lang) {
            document.documentElement.lang = lang;
            
            // Aggiorna tutti gli elementi testuali
            document.querySelectorAll('[data-lang-key]').forEach(element => {
                const key = element.dataset.langKey;
                if (translations[key] && translations[key][lang]) {
                    element.innerHTML = translations[key][lang];
                }
            });

            // Aggiorna bottone lingua
            const langToggle = document.getElementById('lang-toggle');
            langToggle.textContent = lang === 'it' ? 'EN' : 'IT';
            
            // Aggiorna testo accessibilità
            updateAccessibilityText();
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Setup iniziale
            updateLanguage(currentLanguage);

            // Listener Lingua (Corretto: cambia la variabile di stato, non legge il bottone)
            document.getElementById('lang-toggle').addEventListener('click', function() {
                const newLang = currentLanguage === 'it' ? 'en' : 'it';
                currentLanguage = newLang; // Aggiorna stato
                localStorage.setItem('language', newLang);
                updateLanguage(newLang);
            });

            // Listener Accessibilità
            document.getElementById('accessibility-toggle').addEventListener('click', () => {
                document.body.classList.toggle('dsa-mode');
                updateAccessibilityText();
            });
        });
    </script>
</body>
</html>
