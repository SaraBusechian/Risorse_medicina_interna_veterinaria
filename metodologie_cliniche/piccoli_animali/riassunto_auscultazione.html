<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Riassunto: L'Auscultazione Clinica - Piccoli Animali</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lexend:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .hero-bg { background-color: #0284c7; background-image: linear-gradient(to right, #0284c7, #38bdf8); }
        
        .nav-link { transition: color 0.3s; color: #ffffff !important; }
        .nav-link:hover { color: #bae6fd !important; }

        .section-card { background-color: white; border-radius: 0.75rem; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); transition: transform 0.3s; }
        
        /* --- STILI ACCESSIBILITÀ (DSA) --- */
        .dsa-mode {
            font-family: 'Lexend', sans-serif;
            background-color: #fffdf5 !important;
            color: #1a1a1a !important;
            letter-spacing: 0.05em;
            line-height: 2;
        }
        
        .dsa-mode .hero-bg, .dsa-mode #main-header, .dsa-mode #main-footer {
            background-color: #ffffff !important;
            background-image: none !important;
            border-bottom: 3px solid #1a1a1a !important;
            color: #1a1a1a !important;
            box-shadow: none !important;
        }

        .dsa-mode #main-header h1, .dsa-mode #main-header .nav-link, .dsa-mode .hero-bg h2, .dsa-mode .hero-bg p {
            color: #000000 !important;
        }

        .dsa-mode .section-card { 
            background-color: #ffffff; 
            border: 2px solid #000000; 
            box-shadow: none !important; 
        }

        .dsa-mode h1, .dsa-mode h2, .dsa-mode h3 { 
            color: #000000 !important; 
            text-decoration: none;
        }

        /* --- TTS BUTTON --- */
        .tts-button {
            cursor: pointer;
            display: inline-block;
            margin-left: 10px;
            vertical-align: middle;
            color: #64748b;
            transition: color 0.2s;
        }
        .tts-button:hover, .tts-button.playing { color: #0284c7; }
        .dsa-mode .tts-button { color: #000000 !important; }

        @media print {
            #main-header, #main-footer, #print-button, .back-button-container, .tts-button { display: none !important; }
            body { background-color: white !important; }
            .section-card { box-shadow: none !important; border: 1px solid #eee !important; margin-bottom: 2rem !important; }
            .hero-bg { background: none !important; color: black !important; }
        }
    </style>
</head>
<body class="bg-sky-50">

    <header id="main-header" class="hero-bg text-white shadow-lg sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center flex-wrap">
            <h1 class="text-xl font-bold" data-lang-key="siteTitle">Medicina Interna P.A.</h1>
            <div class="flex items-center space-x-4">
                <ul class="hidden md:flex space-x-6 text-white">
                    <li><a href="index.html#anamnesi" class="nav-link font-semibold text-white">Anamnesi</a></li>
                    <li><a href="index.html#ispezione" class="nav-link font-semibold text-white">Ispezione</a></li>
                    <li><a href="index.html#palpazione" class="nav-link font-semibold text-white">Palpazione</a></li>
                    <li><a href="index.html#percussione" class="nav-link font-semibold text-white">Percussione</a></li>
                    <li><a href="index.html#auscultazione" class="nav-link font-semibold text-white">Auscultazione</a></li>
                </ul>
                <button id="accessibility-toggle" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 transition" data-lang-key="accessibility">Accessibilità</button>
                <button id="lang-toggle" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 transition">EN</button>
            </div>
        </nav>
    </header>

    <div class="hero-bg text-white">
        <div class="container mx-auto px-6 pt-8 pb-20 text-center relative">
            <div class="absolute top-4 left-6 back-button-container">
                 <a href="index.html#auscultazione" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/20 hover:bg-white/30 transition inline-flex items-center" data-lang-key="backToHome">
                    <!-- JS inserisce icona e testo -->
                </a>
            </div>
            <h2 class="text-4xl md:text-5xl font-bold mb-4 mt-12" data-lang-key="pageTitle">Riassunto: Auscultazione</h2>
            <p class="text-xl max-w-2xl mx-auto" data-lang-key="pageSubtitle">Ascoltare i ritmi della vita: l'esame stetoscopico di cuore e polmoni nel cane e nel gatto.</p>
        </div>
    </div>

    <main class="container mx-auto px-6 -mt-10 pb-12">
        
        <!-- INTRODUZIONE -->
        <section class="mb-10 p-8 section-card">
            <div class="flex items-start">
                <div class="flex-grow">
                    <h3 class="text-2xl font-bold text-sky-900 mb-4" data-lang-key="introTitle">L'Auscultazione Clinica</h3>
                    <p class="text-gray-700 leading-relaxed" data-lang-key="introContent"></p>
                </div>
                <button class="tts-button section-tts" data-section="intro">
                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20"><path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z"></path></svg>
                </button>
            </div>
        </section>

        <!-- SEZIONE 1: CUORE -->
        <section class="mb-10 p-8 section-card">
            <div class="flex items-start">
                <div class="flex-grow">
                    <h3 class="text-2xl font-bold text-sky-800 mb-4" data-lang-key="sec1Title">1. Auscultazione Cardiaca</h3>
                    <div class="text-gray-700 space-y-4" data-lang-key="sec1Content"></div>
                </div>
                <button class="tts-button section-tts" data-section="sec1">
                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20"><path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z"></path></svg>
                </button>
            </div>
        </section>

        <!-- SEZIONE 2: POLMONI -->
        <section class="mb-10 p-8 section-card">
            <div class="flex items-start">
                <div class="flex-grow">
                    <h3 class="text-2xl font-bold text-sky-700 mb-4" data-lang-key="sec2Title">2. Auscultazione Polmonare e Tracheale</h3>
                    <div class="text-gray-700 space-y-4" data-lang-key="sec2Content"></div>
                </div>
                <button class="tts-button section-tts" data-section="sec2">
                    <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20"><path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z"></path></svg>
                </button>
            </div>
        </section>

        <div class="mt-12 text-center">
            <button id="print-button" onclick="window.print()" class="bg-sky-600 text-white font-bold py-4 px-10 rounded-xl hover:bg-sky-700 transition shadow-lg flex items-center mx-auto" data-lang-key="btnPrint">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M5 4v3h10V4H5zm11 9H4v4h12v-4zM5 11h10v-3H5v3z"></path><path fill-rule="evenodd" d="M18 8H2a2 2 0 00-2 2v4a2 2 0 002 2h2v2a2 2 0 002 2h8a2 2 0 002-2v-2h2a2 2 0 002-2v-4a2 2 0 00-2-2zM4 10a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zm1 5a1 1 0 100 2h8a1 1 0 100-2H5z" clip-rule="evenodd"></path></svg>
                Stampa Riassunto
            </button>
        </div>

    </main>

    <footer id="main-footer" class="text-center py-8 border-t border-slate-200">
        <p class="text-slate-500 text-sm" data-lang-key="footerText">A cura della Prof.ssa Sara Busechian. Insegnamenti di clinica medica veterinaria</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const backIcon = `<svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20" fill-rule="evenodd" clip-rule="evenodd"><path d="M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z" clip-rule="evenodd" fill-rule="evenodd"></path></svg>`;
            
            const translations = {
                siteTitle: { it: 'Medicina Interna P.A.', en: 'Small Animal Internal Medicine' },
                backToHome: { it: backIcon + 'Torna all\'Indice', en: backIcon + 'Back to Index' },
                accessibility: { it: 'Accessibilità', en: 'Accessibility' },
                pageTitle: { it: 'Riassunto: Auscultazione', en: 'Summary: Auscultation' },
                pageSubtitle: { it: 'Ascoltare i ritmi della vita: l\'esame stetoscopico di cuore e polmoni nel cane e nel gatto.', en: 'Listening to the rhythms of life: stethoscope exam of heart and lungs in dogs and cats.' },
                introTitle: { it: 'L\'Auscultazione Clinica', en: 'Clinical Auscultation' },
                introContent: { 
                    it: "L'auscultazione è la fase finale dell'esame obiettivo (sia generale che dei singoli apparati). Utilizzando lo stetoscopio, il medico percepisce i suoni prodotti dall'attività funzionale degli organi interni (cuore, polmoni, apparato digerente). Nei piccoli animali, richiede un ambiente assolutamente silenzioso e, spesso, è necessario far smettere temporaneamente al gatto di fare le fusa o tenere chiusa la bocca del cane per isolare correttamente i rumori profondi.", 
                    en: "Auscultation is the final phase of the objective examination (both general and systemic). Using a stethoscope, the physician perceives sounds produced by the functional activity of internal organs (heart, lungs, digestive system). In small animals, it requires absolute silence and it is often necessary to temporarily stop the cat from purring or keep the dog's mouth closed to correctly isolate deep sounds." 
                },
                sec1Title: { it: '1. Auscultazione Cardiaca', en: '1. Cardiac Auscultation' },
                sec1Content: { 
                    it: "<p>Valutazione sistematica di ritmo, frequenza e integrità valvolare:</p><ul class='list-disc pl-5 mt-2 space-y-2'><li><strong>Focolai di Auscultazione (P.A.M. - T.):</strong> Ricerca dei punti di massima intensità (PMI) valvolare. Sul lato sinistro: Polmonare (3° spazio intercostale), Aortica (4° s.i.), Mitralica (5° s.i.). Sul lato destro: Tricuspidale (4° s.i.).</li><li><strong>Frequenza e Ritmo:</strong> Rilevazione del numero di battiti al minuto. Nel cane è fisiologica l'<strong>aritmia sinusale respiratoria</strong> (la frequenza aumenta in inspirazione e diminuisce in espirazione).</li><li><strong>Toni Cardiaci:</strong> Auscultazione del primo tono (S1 - chiusura valvole AV) e secondo tono (S2 - chiusura semilunari).</li><li><strong>Soffi Cardiaci:</strong> Identificazione di rumori turbolenti, valutandone intensità (grado 1-6), tempistica (sistolico/diastolico), localizzazione e andamento (crescendo, decrescendo o a plateau).</li></ul>", 
                    en: "<p>Systematic assessment of rhythm, rate, and valvular integrity:</p><ul class='list-disc pl-5 mt-2 space-y-2'><li><strong>Auscultation Sites (P.A.M. - T.):</strong> Searching for valve Points of Maximum Intensity (PMI). On the left side: Pulmonary (3rd intercostal space), Aortic (4th i.s.), Mitral (5th i.s.). On the right side: Tricuspid (4th i.s.).</li><li><strong>Rate and Rhythm:</strong> Detection of beats per minute. In dogs, <strong>respiratory sinus arrhythmia</strong> is physiological (rate increases on inspiration and decreases on expiration).</li><li><strong>Heart Sounds:</strong> Listening for the first sound (S1 - AV valve closure) and second sound (S2 - semilunar closure).</li><li><strong>Heart Murmurs:</strong> Identifying turbulent sounds, assessing intensity (grade 1-6), timing (systolic/diastolic), location, and pattern (crescendo, decrescendo, or plateau)." 
                },
                sec2Title: { it: '2. Auscultazione Polmonare e Tracheale', en: '2. Pulmonary and Tracheal Auscultation' },
                sec2Content: { 
                    it: "<p>Valutazione del passaggio dell'aria nelle vie aeree:</p><ul class='list-disc pl-5 mt-2 space-y-4'><li><strong>Murmure Vescicolare:</strong> Il suono normale prodotto dall'aria che entra negli alveoli. Deve essere presente su tutto il campo polmonare (che nel cane arriva al 9° spazio intercostale).</li><li><strong>Auscultazione Tracheale:</strong> Fondamentale per isolare rumori provenienti dalle alte vie respiratorie (laringe, trachea) che potrebbero essere trasmessi al torace.</li><li><strong>Rumori Aggiunti:</strong> Identificazione di suoni patologici come <strong>rantoli</strong> (presenza di liquido/essudato), <strong>rantoli crepitanti</strong> (edema o fibrosi) o <strong>sibili</strong> (broncocostrizione/asma).</li><li><strong>Silenzio Respiratorio:</strong> L'assenza di suoni in determinate aree può indicare versamenti liquidi (nella parte ventrale) o masse solide occupanti spazio.</li></ul>", 
                    en: "<p>Assessment of air passage in the airways:</p><ul class='list-disc pl-5 mt-2 space-y-4'><li><strong>Vesicular Murmur:</strong> Normal sound produced by air entering alveoli. Must be present throughout the lung field (up to the 9th intercostal space in dogs).</li><li><strong>Tracheal Auscultation:</strong> Essential to isolate sounds from the upper respiratory tract (larynx, trachea) that might be transmitted to the chest.</li><li><strong>Adventitious Sounds:</strong> Identification of pathological sounds such as <strong>crackles</strong> (fluid/exudate), <strong>crepitant crackles</strong> (edema or fibrosis), or <strong>wheezes</strong> (bronchoconstriction/asthma).</li><li><strong>Respiratory Silence:</strong> Absence of sounds in certain areas can indicate fluid effusion (ventrally) or space-occupying solid masses.</li></ul>" 
                },
                btnPrint: { it: 'Stampa Riassunto', en: 'Print Summary' },
                footerText: { it: 'A cura della Prof.ssa Sara Busechian. Insegnamenti di clinica medica veterinaria', en: 'Curated by Prof. Sara Busechian. Veterinary clinical medicine teachings' }
            };

            let currentLanguage = localStorage.getItem('language') || 'it';
            const body = document.body;
            const synth = window.speechSynthesis;
            let activeTTSButton = null;

            const updateLanguage = (lang) => {
                document.documentElement.lang = lang;
                document.getElementById('lang-toggle').textContent = lang === 'it' ? 'EN' : 'IT';
                document.querySelectorAll('[data-lang-key]').forEach(el => {
                    const key = el.dataset.langKey;
                    if (translations[key]) el.innerHTML = translations[key][lang];
                });
            };

            const speak = (text, button) => {
                if (synth.speaking && activeTTSButton === button) {
                    if (synth.paused) {
                        synth.resume();
                        button.classList.add('playing');
                    } else {
                        synth.pause();
                        button.classList.remove('playing');
                    }
                    return;
                }

                if (synth.speaking) {
                    synth.cancel();
                }

                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = currentLanguage === 'it' ? 'it-IT' : 'en-US';
                
                utterance.onstart = () => {
                    button.classList.add('playing');
                    activeTTSButton = button;
                };

                utterance.onend = () => {
                    button.classList.remove('playing');
                    activeTTSButton = null;
                };

                synth.speak(utterance);
            };

            document.querySelectorAll('.section-tts').forEach(btn => {
                btn.onclick = () => {
                    const sectionKey = btn.dataset.section;
                    const temp = document.createElement('div');
                    temp.innerHTML = translations[sectionKey + 'Content'][currentLanguage];
                    temp.querySelectorAll('.my-4').forEach(el => el.remove());
                    const text = translations[sectionKey + 'Title'][currentLanguage] + ". " + temp.innerText;
                    speak(text, btn);
                };
            });

            const setA11yMode = (enabled) => {
                body.classList.toggle('dsa-mode', enabled);
                localStorage.setItem('dsa-mode', enabled ? 'enabled' : 'disabled');
            };

            document.getElementById('lang-toggle').onclick = () => {
                currentLanguage = currentLanguage === 'it' ? 'en' : 'it';
                localStorage.setItem('language', currentLanguage);
                updateLanguage(currentLanguage);
                if (synth.speaking) synth.cancel();
            };

            document.getElementById('accessibility-toggle').onclick = () => setA11yMode(!body.classList.contains('dsa-mode'));

            if (localStorage.getItem('dsa-mode') === 'enabled') setA11yMode(true);
            updateLanguage(currentLanguage);
        });
    </script>
</body>
</html>
