<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Titolo specifico per questa pagina -->
    <title>Riassunto: Esame Obiettivo Generale (EOG) - Semeiotica Vet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lexend:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Stili Generali e dal Template */
        html { scroll-behavior: smooth; }
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; /* bg-slate-50 */ }
        .section-nav-link {
            transition: background-color 0.3s, color 0.3s;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* semibold */
            color: rgba(255, 255, 255, 0.8);
            background-color: rgba(255, 255, 255, 0.1);
            white-space: nowrap;
        }
        .section-nav-link:hover {
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
        }
        .section-nav-link.active {
             background-color: white;
             color: #1E3A8A; /* Blu scuro */
             cursor: default;
        }
        .content-card {
             background-color: white; /* bg-white */
             border-radius: 0.75rem; /* rounded-xl */
             box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
             padding: 1.5rem; /* p-6 */
        }
        @media (min-width: 768px) { /* md: */
            .content-card { padding: 2.5rem; /* md:p-10 */ }
        }
        #page-header { position: static; } /* Header non sticky nelle pagine interne */
        .scrollable-nav {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }
        .scrollable-nav::-webkit-scrollbar { display: none; }

        /* Stili Specifici del Contenuto (da riassunto_eog.html originale) */
        #main-content h1, #main-content h2, #main-content h3 {
             color: #0d47a1; /* Blu scuro intenso */
             border-bottom: 2px solid #e0e0e0; /* Grigio chiaro */
             padding-bottom: 8px;
             margin-top: 1.5em; /* Ridotto leggermente */
             margin-bottom: 1em; /* Aggiunto spazio sotto */
             font-weight: 700; /* bold */
        }
         /* Stile specifico per H1 del contenuto */
        #main-content > h1 {
            text-align: center;
            font-size: 1.8em; /* Ridotto leggermente */
            border-bottom: 3px solid #0d47a1;
            margin-bottom: 1.5em; /* Aggiunto più spazio sotto H1 */
        }
         /* Stile specifico per H2 del contenuto */
        #main-content h2 { font-size: 1.5em; font-weight: 600; /* semibold */ }
         /* Stile specifico per H3 del contenuto */
        #main-content h3 { font-size: 1.25em; font-weight: 600; /* semibold */ }
        #main-content ul { padding-left: 20px; list-style-type: disc; margin-bottom: 1em; }
        #main-content li { margin-bottom: 10px; }
        #main-content strong { color: #1565c0; /* Blu medio */ font-weight: 600; }
        #main-content p { margin-bottom: 1em; line-height: 1.6; color: #333; /* Grigio scuro */}
        .section-block { /* Mantenuto per l'introduzione */
            background-color: #eff6ff; /* Azzurrino più tenue (blue-50) */
            border-left: 5px solid #2563eb; /* Blu medio (blue-600) */
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 5px;
            color: #1e3a8a; /* Blu scuro per il testo nel blocco */
        }

        /* DSA Mode Styles (Combinati) */
        .dsa-mode { font-family: 'Lexend', sans-serif; background-color: #fdfaf5 !important; letter-spacing: 0.05em; line-height: 1.75; }
        .dsa-mode #page-header, .dsa-mode #main-footer { background-color: #000000 !important; background-image: none !important; }
        .dsa-mode #page-header h1, .dsa-mode #main-footer p, .dsa-mode #accessibility-toggle, .dsa-mode #lang-toggle, .dsa-mode .section-nav-link { color: #ffffff !important; }
        .dsa-mode #accessibility-toggle, .dsa-mode #lang-toggle, .dsa-mode .section-nav-link { border: 1px solid #ffffff; background-color: transparent !important; }
        .dsa-mode .section-nav-link.active { background-color: #ffffff !important; color: #000000 !important; border-color: #ffffff;}
        .dsa-mode .content-card { background-color: #fffdfa !important; border: 1px solid #e0e0e0; }
        .dsa-mode #main-content h1, .dsa-mode #main-content h2, .dsa-mode #main-content h3, .dsa-mode #main-content p, .dsa-mode #main-content li, .dsa-mode #main-content strong { color: #34495e !important; } /* Colore scuro per testo */
        .dsa-mode .section-block { background-color: #f0eade !important; border-left-color: #5c5c5c !important; color: #34495e !important;}
        .dsa-mode #main-content h1, .dsa-mode #main-content h2, .dsa-mode #main-content h3 { border-bottom-color: #bdbdbd !important; }


        /* TTS Button Styles */
        .tts-button { cursor: pointer; display: inline-block; margin-left: 8px; vertical-align: middle; color: #64748b; transition: color 0.2s; }
        .tts-button:hover { color: #0ea5e9; }
        .tts-button.playing { color: #0ea5e9; }
        /* Adatta la dimensione delle icone TTS nel contenuto */
        #main-content h1 .tts-button svg { width: 1em; height: 1em; }
        #main-content h2 .tts-button svg { width: 0.9em; height: 0.9em; }
        #main-content p .tts-button svg { width: 0.8em; height: 0.8em; }

        /* Print Styles */
        @media print {
            #page-header, #main-footer, #print-button, .tts-button, #audio { display: none; }
            body { margin: 0; padding: 0; background-color: white !important;}
            main.container { max-width: 100% !important; padding: 1cm !important; margin: 0 !important;}
            .content-card { box-shadow: none !important; border: none !important; padding: 0 !important; margin-top: 0 !important;}
             #main-content h1, #main-content h2, #main-content h3 { color: black !important; border-color: black !important; margin-top: 1em; }
             #main-content p, #main-content li, #main-content strong { color: black !important; }
             #main-content ul { padding-left: 15px; }
             .section-block { border-left: 3px solid black !important; padding: 10px; background-color: #f0f0f0 !important; color: black !important; border-radius: 0;}
             a { text-decoration: none; color: black !important; } /* Evita sottolineature e colori strani in stampa */
        }
    </style>
</head>
<body class="bg-slate-50">

    <!-- === HEADER SEMPLIFICATO PER PAGINE INTERNE === -->
    <header id="page-header" class="bg-[#1E3A8A] text-white shadow-lg z-20">
        <div class="container mx-auto px-6 py-3">
            <!-- Riga Superiore: Torna all'indice + Controlli -->
            <div class="flex justify-between items-center mb-4">
                 <a href="index.html" class="inline-flex items-center text-sm font-semibold px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition" data-lang-key="backToIndex">
                    <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                    <span data-lang-key="backToIndexText">Indice Sezioni</span>
                 </a>
                 <div class="flex items-center space-x-2">
                    <button id="accessibility-toggle" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition" data-lang-key="accessibility">Accessibilità</button>
                    <button id="lang-toggle" class="text-sm font-semibold px-3 py-2 rounded-lg bg-white/10 hover:bg-white/20 transition">EN</button>
                 </div>
            </div>

            <!-- Titolo della Sezione -->
            <h1 class="text-3xl font-bold mb-4 !text-white !border-none !p-0 !text-left" data-lang-key="sectionTitleEOG">1. Esame Obiettivo Generale (EOG)</h1>

            <!-- Navigazione Interna alla Sezione -->
            <nav class="scrollable-nav">
                 <div class="flex space-x-2 pb-2">
                     <a href="riassunto_eog.html" class="section-nav-link active" data-lang-key="navSummary">Riassunto</a>
                     <a href="infografica_eog.html" class="section-nav-link" data-lang-key="navInfographic">Infografica</a>
                     <a href="checklist_eog.html" class="section-nav-link" data-lang-key="navChecklist">Checklist</a>
                     <!-- Esami Collaterali non presenti per EOG -->
                     <!-- <a href="collaterali_eog.html" class="section-nav-link" data-lang-key="navAncillary">Esami Collaterali</a> -->
                     <a href="quiz_eog.html" class="section-nav-link" data-lang-key="navQuiz">Quiz</a>
                     <a href="#audio" class="section-nav-link" data-lang-key="navAudio">Audio</a>
                </div>
            </nav>

        </div>
    </header>
    <!-- === FINE HEADER === -->


    <main class="container mx-auto p-4 md:px-10 md:py-12">
        <!-- Card Contenuto -->
        <div id="main-content" class="content-card">
             <!-- Titolo Principale del Contenuto -->
            <h1 data-lang-key="pageTitle">L'Esame Obiettivo Generale (EOG)</h1>

             <!-- Contenuto Specifico del Riassunto -->
            <p class="section-block" data-lang-key="introText"></p>

            <div data-lang-key="section1"></div>
            <div data-lang-key="section2"></div>
            <div data-lang-key="section3"></div>
            <div data-lang-key="section4"></div>
            <div data-lang-key="section5"></div>
             <div data-lang-key="section6"></div>


             <!-- Sezione Audio -->
            <section id="audio" class="mt-12 pt-6 border-t scroll-mt-20"> <!-- scroll-mt-20 per offset header -->
                 <h2 class="text-xl font-semibold mb-4 text-gray-800" data-lang-key="audioTitle">Audio Riassunto</h2>
                 <div class="p-4 bg-orange-100 rounded-lg flex flex-col sm:flex-row items-center gap-4 audio-container">
                     <audio controls class="w-full sm:w-auto flex-grow rounded-lg"><source src="audio_riassunto_eog.mp3" type="audio/mpeg">Audio non disponibile.</audio>
                     <a href="audio_riassunto_eog.mp3" download class="bg-orange-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-orange-600 transition duration-300 inline-flex items-center w-full sm:w-auto justify-center">
                         <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>
                         <span data-lang-key="btnDownloadAudio">Scarica Audio</span>
                     </a>
                 </div>
             </section>

             <!-- Pulsante Stampa -->
            <div class="mt-12 text-center">
                <button id="print-button" onclick="window.print()" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-blue-700 transition duration-300 inline-flex items-center" data-lang-key="btnPrint">
                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M5 4v3h10V4H5zm11 9H4v4h12v-4zM5 11h10v-3H5v3z"></path><path fill-rule="evenodd" d="M18 8H2a2 2 0 00-2 2v4a2 2 0 002 2h2v2a2 2 0 002 2h8a2 2 0 002-2v-2h2a2 2 0 002-2v-4a2 2 0 00-2-2zM4 10a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zm1 5a1 1 0 100 2h8a1 1 0 100-2H5z" clip-rule="evenodd"></path></svg>
                    Stampa
                </button>
            </div>

        </div> <!-- Fine content-card -->
    </main>

    <footer id="main-footer" class="bg-gray-800 text-white mt-16">
        <div class="container mx-auto px-6 py-4 text-center">
            <p data-lang-key="footerText">&copy; 2024 Semeiotica Veterinaria. Creato da Sara Busechian.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Definisci qui le icone TTS che usi nel contenuto
            const speakerIconLarge = `<span class="tts-button"><svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></span>`;
            const speakerIconSmall = `<span class="tts-button"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></span>`;
            const speakerIconH2 = `<span class="tts-button"><svg class="w-7 h-7" fill="currentColor" viewBox="0 0 20 20"><path d="M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.414z"/></svg></span>`;

            // === TRADUZIONI ===
            const translations = {
                 // --- Header ---
                 backToIndexText: { it: 'Indice Sezioni', en: 'Sections Index' },
                 sectionTitleEOG: { it: '1. Esame Obiettivo Generale (EOG)', en: '1. General Physical Examination (GPE)' },
                 // Aggiungi qui le altre chiavi per i titoli delle sezioni (sectionTitleCardio, etc.) se necessario per altre pagine
                 navSummary: { it: 'Riassunto', en: 'Summary' },
                 navInfographic: { it: 'Infografica', en: 'Infographic' },
                 navChecklist: { it: 'Checklist', en: 'Checklist' },
                 navAncillary: { it: 'Esami Collaterali', en: 'Ancillary Exams' },
                 navQuiz: { it: 'Quiz', en: 'Quiz' },
                 navAudio: { it: 'Audio', en: 'Audio' },
                 accessibility: { it: 'Accessibilità', en: 'Accessibility' },
                 // --- Contenuto Riassunto EOG ---
                pageTitle: { it: `L'Esame Obiettivo Generale (EOG)${speakerIconLarge}`, en: `The General Physical Examination (GPE)${speakerIconLarge}` },
                introText: { it: `L'Esame Obiettivo Generale (EOG) è la valutazione sistematica dello stato di salute dell'animale, condotta attraverso l'uso dei sensi e di strumenti clinici di base. Fornisce le informazioni fondamentali per orientare la diagnosi e precede l'esame obiettivo particolare dei singoli apparati. ${speakerIconSmall}`, en: `The General Physical Examination (GPE) is the systematic assessment of the animal's health status, conducted through the use of the senses and basic clinical instruments. It provides fundamental information to guide the diagnosis and precedes the specific physical examination of individual systems. ${speakerIconSmall}` },
                section1: { it: `<h2>1. Valutazione dello Stato Generale${speakerIconH2}</h2><p>Questa fase iniziale si svolge spesso a distanza, osservando l'animale nel suo ambiente prima di approcciarlo direttamente.</p><ul><li><strong>Stato del Sensorio:</strong> Si valuta il livello di coscienza e reattività. L'animale è <strong>vigile</strong> (normale), <strong>depresso</strong> (risponde lentamente), <strong>stuporoso</strong> (risponde solo a stimoli intensi) o <strong>comatoso</strong> (nessuna risposta)?</li><li><strong>Atteggiamento e Postura:</strong> Si osservano posizioni anomale (es. testa bassa, arti abdotti, dorso arcuato) che possono indicare dolore o debolezza.</li><li><strong>Condizione Corporea (BCS):</strong> Si stima lo stato di nutrizione (magro, normale, grasso) su una scala da 1 a 5.</li><li><strong>Comportamento:</strong> Si nota qualsiasi comportamento anomalo, come aggressività, apatia, o segni specifici (es. digrignare i denti, guardarsi il fianco).</li></ul>`, en: `<h2>1. Assessment of General Status${speakerIconH2}</h2><p>This initial phase is often carried out from a distance, observing the animal in its environment before approaching it directly.</p><ul><li><strong>Mental Status:</strong> The level of consciousness and reactivity is assessed. Is the animal <strong>alert</strong> (normal), <strong>depressed</strong> (responds slowly), <strong>stuporous</strong> (responds only to intense stimuli), or <strong>comatose</strong> (no response)?</li><li><strong>Attitude and Posture:</strong> Abnormal positions (e.g., low head carriage, abducted limbs, arched back) that may indicate pain or weakness are observed.</li><li><strong>Body Condition Score (BCS):</strong> The nutritional status (thin, normal, fat) is estimated on a scale of 1 to 5.</li><li><strong>Behavior:</strong> Any abnormal behavior is noted, such as aggression, apathy, or specific signs (e.g., teeth grinding, flank watching).</li></ul>` },
                section2: { it: `<h2>2. Misurazione dei Parametri Vitali${speakerIconH2}</h2><p>La "triade classica" che fornisce un'istantanea della condizione fisiologica dell'animale.</p><ul><li><strong>Temperatura Corporea:</strong> Si misura per via rettale. È un indicatore fondamentale di processi infiammatori o infettivi (ipertermia) o di stati di shock e deficit metabolici (ipotermia).</li><li><strong>Polso Arterioso:</strong> Si apprezza su un'arteria superficiale (es. facciale o coccigea). Si valutano <strong>frequenza</strong> (battiti al minuto), <strong>ritmo</strong> (regolare/irregolare) e <strong>qualità</strong> (pieno, debole, filiforme).</li><li><strong>Frequenza Respiratoria:</strong> Si contano gli atti respiratori al minuto osservando i movimenti del torace o delle narici. Si valuta anche il <strong>tipo</strong> di respiro (es. costale, addominale, discordante).</li></ul>`, en: `<h2>2. Measurement of Vital Signs${speakerIconH2}</h2><p>The "classic triad" that provides a snapshot of the animal's physiological condition.</p><ul><li><strong>Body Temperature:</strong> Measured rectally. It is a key indicator of inflammatory or infectious processes (hyperthermia) or shock and metabolic deficits (hypothermia).</li><li><strong>Arterial Pulse:</strong> Assessed on a superficial artery (e.g., facial or coccygeal). <strong>Rate</strong> (beats per minute), <strong>rhythm</strong> (regular/irregular), and <strong>quality</strong> (strong, weak, thready) are evaluated.</li><li><strong>Respiratory Rate:</strong> Breaths per minute are counted by observing chest or nostril movements. The <strong>type</strong> of breathing (e.g., costal, abdominal, paradoxical) is also assessed.</li></ul>` },
                section3: { it: `<h2>3. Esame delle Mucose Apparenti${speakerIconH2}</h2><p>Le mucose (congiuntivale, orale, vulvare) sono una finestra sullo stato di perfusione e ossigenazione dei tessuti.</p><ul><li><strong>Colore:</strong> Normalmente rosa. Pallide indicano anemia o vasocostrizione; itteriche (gialle) problemi epatici; cianotiche (bluastre) ipossia; congeste (rosso scuro) iperemia o shock.</li><li><strong>Tempo di Riempimento Capillare (TRC):</strong> Si valuta premendo sulla mucosa gengivale; il colore rosa deve tornare in meno di 2 secondi. Un TRC allungato indica una cattiva perfusione periferica.</li><li><strong>Umidità:</strong> Mucose secche o appiccicose sono un segno di disidratazione.</li></ul>`, en: `<h2>3. Examination of Visible Mucous Membranes${speakerIconH2}</h2><p>The mucous membranes (conjunctival, oral, vulvar) are a window into the state of tissue perfusion and oxygenation.</p><ul><li><strong>Color:</strong> Normally pink. Pale membranes indicate anemia or vasoconstriction; icteric (yellow) ones suggest liver problems; cyanotic (bluish) ones hypoxia; congested (dark red) ones hyperemia or shock.</li><li><strong>Capillary Refill Time (CRT):</strong> Assessed by pressing on the gingival mucosa; the pink color should return in less than 2 seconds. A prolonged CRT indicates poor peripheral perfusion.</li><li><strong>Moisture:</strong> Dry or tacky mucous membranes are a sign of dehydration.</li></ul>` },
                section4: { it: `<h2>4. Esame della Cute e del Mantello${speakerIconH2}</h2><p>Fornisce indicazioni sullo stato di nutrizione, idratazione e sulla presenza di patologie specifiche.</p><ul><li><strong>Elasticità Cutanea (Plica cutanea):</strong> Si solleva una plica di cute (es. sul collo) e si valuta il tempo che impiega a tornare piana. Un ritorno lento (>2-3 secondi) è un chiaro segno di disidratazione.</li><li><strong>Qualità del Mantello:</strong> Il pelo deve essere lucido e uniforme. Un mantello opaco, irsuto o con aree alopeciche può indicare carenze nutrizionali, parassitosi o malattie croniche.</li><li><strong>Integrità della Cute:</strong> Si ispeziona l'intera superficie corporea alla ricerca di ferite, lesioni, croste, noduli o ectoparassiti (pidocchi, zecche).</li></ul>`, en: `<h2>4. Examination of the Skin and Coat${speakerIconH2}</h2><p>Provides information on nutritional status, hydration, and the presence of specific diseases.</p><ul><li><strong>Skin Turgor (Skin Fold Test):</strong> A fold of skin (e.g., on the neck) is lifted, and the time it takes to flatten is assessed. A slow return (>2-3 seconds) is a clear sign of dehydration.</li><li><strong>Coat Quality:</strong> The coat should be shiny and uniform. A dull, shaggy coat or areas of alopecia may indicate nutritional deficiencies, parasitism, or chronic diseases.</li><li><strong>Skin Integrity:</strong> The entire body surface is inspected for wounds, lesions, crusts, nodules, or ectoparasites (lice, ticks).</li></ul>` },
                section5: { it: `<h2>5. Palpazione dei Linfonodi Esplorabili${speakerIconH2}</h2><p>I linfonodi agiscono come sentinelle del sistema immunitario. Un loro aumento di volume può indicare un processo infiammatorio o neoplastico nel territorio che drenano.</p><ul><li><strong>Linfonodi Mandibolari e Retrofaringei:</strong> Importanti per patologie della testa e delle prime vie aeree.</li><li><strong>Linfonodi Prescapolari e Prefemorali:</strong> Drenano rispettivamente l'arto anteriore e posteriore e le regioni superficiali del tronco.</li><li><strong>Caratteristiche:</strong> Si valutano <strong>dimensione</strong> (aumentati/non aumentati), <strong>consistenza</strong> (dura/morbida), <strong>dolorabilità</strong> e <strong>mobilità</strong> sui piani sottostanti.</li></ul>`, en: `<h2>5. Palpation of Palpable Lymph Nodes${speakerIconH2}</h2><p>Lymph nodes act as sentinels of the immune system. An increase in their size can indicate an inflammatory or neoplastic process in the territory they drain.</p><ul><li><strong>Mandibular and Retropharyngeal Lymph Nodes:</strong> Important for diseases of the head and upper respiratory tract.</li><li><strong>Prescapular and Prefemoral Lymph Nodes:</strong> Drain the forelimb and hindlimb, respectively, and the superficial regions of the trunk.</li><li><strong>Characteristics:</strong> <strong>Size</strong> (enlarged/not enlarged), <strong>consistency</strong> (hard/soft), <strong>painfulness</strong>, and <strong>mobility</strong> over underlying tissues are assessed.</li></ul>` },
                section6: { it: `<h2>6. La Prospettiva sulla Mandria: Oltre il Singolo Animale${speakerIconH2}</h2><p>Nei grandi animali, specialmente nei ruminanti, l'esame del singolo soggetto è spesso solo una parte della diagnosi. L'individuo malato può essere un "animale sentinella", un campanello d'allarme per un problema che riguarda l'intero gruppo. Un EOG completo in un contesto di allevamento deve quindi allargare lo sguardo.</p><ul><li><strong>Valutazione Ambientale:</strong> Si osserva la stalla, la densità, la pulizia delle lettiere e lo spazio in mangiatoia. L'ambiente è il primo fattore che influenza la salute della mandria.</li><li><strong>Indicatori Nutrizionali di Gruppo:</strong> Si valutano parametri come il riempimento ruminale medio, il BCS medio e la percentuale di animali in ruminazione.</li><li><strong>Comportamento Collettivo:</strong> Si osserva come il gruppo interagisce. Animali apatici o eccessivamente agitati sono segnali importanti.</li><li><strong>Esame delle Feci di Gruppo:</strong> Un'ispezione visiva delle feci in corsia può dare indicazioni sulla funzionalità digestiva e su problemi alimentari diffusi.</li></ul>`, en: `<h2>6. The Herd Perspective: Beyond the Single Animal${speakerIconH2}</h2><p>In large animals, especially ruminants, examining a single subject is often only part of the diagnosis. The sick individual can be a "sentinel animal," an alarm for a problem affecting the whole group. A complete GPE in a farm context must therefore broaden its scope.</p><ul><li><strong>Environmental Assessment:</strong> Observe the barn, density, bedding cleanliness, and feed bunk space. The environment is the primary factor influencing herd health.</li><li><strong>Group Nutritional Indicators:</strong> Assess parameters like average rumen fill, average BCS, and the percentage of ruminating animals.</li><li><strong>Collective Behavior:</strong> Observe how the group interacts. Apathetic or overly agitated animals are important signs.</li><li><strong>Group Fecal Examination:</strong> A visual inspection of feces in the alley can provide insights into digestive function and widespread dietary issues.</li></ul>`},
                 // --- Audio & Stampa ---
                 audioTitle: { it: 'Audio Riassunto', en: 'Summary Audio' },
                 btnDownloadAudio: { it: 'Scarica Audio', en: 'Download Audio' },
                 btnPrint: { it: 'Stampa', en: 'Print' },
                 // --- Footer ---
                 footerText: { it: '&copy; 2024 Semeiotica Veterinaria. Creato da Sara Busechian.', en: '&copy; 2024 Veterinary Semeiotics. Created by Sara Busechian.' }
            };

            // Seleziona l'elemento H1 del titolo della sezione corrente nell'header
            const sectionTitleElement = document.querySelector('#page-header h1[data-lang-key]');
            const currentSectionKey = sectionTitleElement ? sectionTitleElement.getAttribute('data-lang-key') : null; // Es: "sectionTitleEOG"


            let currentLanguage = localStorage.getItem('language') || 'it';
            const accessibilityToggle = document.getElementById('accessibility-toggle');
            const langToggle = document.getElementById('lang-toggle');
            const body = document.body;
            const synth = window.speechSynthesis;
            let currentUtterance = null;
            let activeTTSButton = null;
            let voices = []; // Mantenuto per compatibilità, anche se non usato direttamente

            // --- Logica TTS Migliorata (dal Template) ---
            function populateVoiceList() {
                // Questa funzione può rimanere se pensi di usare voci specifiche in futuro
                // voices = synth.getVoices();
                // console.log("Voci disponibili:", voices); // Utile per debug
            }
            if (typeof speechSynthesis !== 'undefined') {
                if (speechSynthesis.onvoiceschanged !== undefined) {
                    speechSynthesis.onvoiceschanged = populateVoiceList;
                }
                // Chiamata iniziale se le voci sono già caricate
                if (synth.getVoices().length > 0) {
                    populateVoiceList();
                }
            }

            function speak(text, button) {
                // Rimuovi HTML residuo e spazi eccessivi
                const tempDiv = document.createElement('div');
                tempDiv.innerHTML = text; // Usa il testo originale con HTML potenziale
                tempDiv.querySelectorAll('.tts-button').forEach(btn => btn.remove()); // Rimuovi l'icona stessa
                const cleanText = tempDiv.textContent.trim().replace(/\s+/g, ' '); // Pulisci testo per la sintesi

                if (!cleanText) {
                    console.warn("Nessun testo da leggere trovato.");
                    return;
                }

                 // Se si clicca sullo stesso bottone mentre sta parlando: pausa/riprendi
                 if (synth.speaking && activeTTSButton === button) {
                     if (synth.paused) {
                         synth.resume();
                         button.classList.add('playing');
                     } else {
                         synth.pause();
                         button.classList.remove('playing');
                     }
                     return; // Non creare una nuova utterance
                 }

                 // Se sta parlando un altro audio, o non sta parlando:
                 if (synth.speaking || synth.pending) {
                     synth.cancel(); // Stoppa l'audio precedente
                     if (activeTTSButton) activeTTSButton.classList.remove('playing'); // Resetta il bottone precedente
                 }

                // Crea e configura la nuova utterance
                currentUtterance = new SpeechSynthesisUtterance(cleanText);
                currentUtterance.lang = currentLanguage === 'it' ? 'it-IT' : 'en-US';

                // Gestione fine e errore
                currentUtterance.onend = () => {
                    if (button) button.classList.remove('playing');
                    if (activeTTSButton === button) activeTTSButton = null; // Resetta solo se è questo bottone
                };
                currentUtterance.onerror = (event) => {
                    console.error('Errore SpeechSynthesis:', event.error);
                    if (button) button.classList.remove('playing');
                    if (activeTTSButton === button) activeTTSButton = null;
                };

                // Avvia la sintesi
                synth.speak(currentUtterance);
                activeTTSButton = button; // Memorizza il bottone attivo
                if (button) button.classList.add('playing'); // Imposta lo stato 'playing'
            }

            // Funzione per riattaccare i listener dopo cambio lingua/DOM update
             function setupTTSListeners() {
                document.querySelectorAll('.tts-button').forEach(button => {
                    // Rimuovi vecchi listener clonando il nodo
                    const newButton = button.cloneNode(true);
                    if (button.parentNode) {
                        button.parentNode.replaceChild(newButton, button);
                        // Aggiungi il nuovo listener
                        newButton.addEventListener('click', handleTTSClick);
                    }
                });
            }

            // Handler separato per il click TTS
            function handleTTSClick(e) {
                e.stopPropagation();
                const button = e.currentTarget;
                 // Trova il genitore più vicino con 'data-lang-key' (h1, h2, p, etc.)
                const parentElement = button.closest('[data-lang-key]');
                if (parentElement) {
                    const key = parentElement.dataset.langKey;
                    if (translations[key] && translations[key][currentLanguage]) {
                        // Passa il contenuto HTML originale alla funzione speak
                        speak(translations[key][currentLanguage], button);
                    } else {
                        console.warn(`Traduzione mancante per chiave: ${key}, lingua: ${currentLanguage}`);
                    }
                } else {
                    console.warn('Bottone TTS non trovato dentro un elemento con data-lang-key:', button);
                }
            }


            // --- Funzione Aggiornamento Lingua (dal Template) ---
             const updateLanguage = (lang) => {
                 document.documentElement.lang = lang;
                 langToggle.textContent = lang === 'it' ? 'EN' : 'IT';

                 document.querySelectorAll('[data-lang-key]').forEach(element => {
                     const key = element.dataset.langKey;
                     if (translations[key] && translations[key][lang]) {
                         const translationText = translations[key][lang];

                         // Gestione specifica per elementi che contengono HTML
                         // (pulsante indietro, footer, e ora anche i div del contenuto principale)
                         if (key === 'backToIndex' || key === 'footerText' || key.startsWith('section') || key === 'pageTitle' || key === 'introText') {
                             element.innerHTML = translationText;
                         }
                          // Gestione link di navigazione sezione (solo testo)
                         else if (element.classList.contains('section-nav-link')) {
                             element.textContent = translationText;
                         }
                         // Gestione titoli H1 nell'header (solo testo)
                         else if (element.tagName === 'H1' && element.closest('#page-header')) {
                             // Usa la chiave specifica della sezione se disponibile
                             const sectionKey = currentSectionKey || key;
                             element.textContent = translations[sectionKey] ? translations[sectionKey][lang] : translationText;
                         }
                         // Gestione altri testi semplici (pulsanti, ecc.)
                         else {
                             element.textContent = translationText;
                         }
                     }
                 });

                 // Visibilità Audio (solo in italiano e se file valido)
                 document.querySelectorAll('.audio-container').forEach(container => {
                      const audioSource = container.querySelector('audio source');
                      const downloadLink = container.querySelector('a[download]');
                      const hasValidSource = audioSource && audioSource.getAttribute('src') && audioSource.getAttribute('src') !== '#';
                      const hasValidDownload = downloadLink && downloadLink.getAttribute('href') && downloadLink.getAttribute('href') !== '#';
                      container.style.display = (lang === 'it' && hasValidSource && hasValidDownload) ? 'flex' : 'none';
                 });

                 // Reset TTS e riattacca i listeners
                 if (synth.speaking || synth.pending) synth.cancel();
                 setTimeout(setupTTSListeners, 50); // Leggero ritardo per render DOM
             };


            // --- Logica Modalità Accessibilità (Invariata) ---
            const setA11yMode = (enabled) => {
                if (enabled) { body.classList.add('dsa-mode'); localStorage.setItem('dsa-mode', 'enabled'); }
                else { body.classList.remove('dsa-mode'); localStorage.setItem('dsa-mode', 'disabled'); }
            };

            // --- Event Listeners (Invariati) ---
            langToggle.addEventListener('click', () => {
                currentLanguage = currentLanguage === 'it' ? 'en' : 'it';
                localStorage.setItem('language', currentLanguage);
                if (synth.speaking || synth.pending) synth.cancel(); // Stoppa TTS prima di cambiare lingua
                updateLanguage(currentLanguage);
            });

            accessibilityToggle.addEventListener('click', () => {
                const isEnabled = body.classList.contains('dsa-mode');
                setA11yMode(!isEnabled);
            });

            // --- Inizializzazione ---
            if (localStorage.getItem('dsa-mode') === 'enabled') { setA11yMode(true); }
            populateVoiceList();
            updateLanguage(currentLanguage); // Chiamata iniziale per applicare lingua e setup listeners

        });
    </script>

</body>
</html>
